# LibreLinkUp Database Service - Deployment Configuration
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control

# ============================================
# Google Cloud Project Configuration
# ============================================
PROJECT_ID=your-project-id
REGION=us-central1
INSTANCE_NAME=librelinkup-db

# ============================================
# Cloud SQL Database Configuration
# ============================================
DB_NAME=librelinkup
DB_USER=librelinkup
# DB_PASSWORD will be stored in Secret Manager, not here

# Cloud SQL Connection Name (auto-generated from above)
# Format: PROJECT_ID:REGION:INSTANCE_NAME
# This will be set automatically, but you can override if needed
# CONNECTION_NAME=${PROJECT_ID}:${REGION}:${INSTANCE_NAME}

# ============================================
# Cloud Run Service Configuration
# ============================================
API_SERVICE_NAME=librelinkup-api
SYNC_JOB_NAME=librelinkup-sync
SCHEDULER_JOB_NAME=librelinkup-sync-schedule

# ============================================
# Secret Manager Configuration
# ============================================
SECRET_LIBRE_PASSWORD=libre-password
SECRET_LIBRE_USERNAME=libre-username
SECRET_DB_PASSWORD=db-password
# ============================================
# VPC Connector Configuration
# ============================================
VPC_CONNECTOR_NAME=librelinkup-connector

# ============================================
# Cloud Scheduler Configuration
# ============================================
# Cron schedule for sync job (every 15 minutes)
SYNC_SCHEDULE=*/15 * * * *
SYNC_TIMEZONE=UTC

# ============================================
# Cloud Run Resource Configuration
# ============================================
API_MEMORY=512Mi
API_CPU=1
API_MIN_INSTANCES=0
API_MAX_INSTANCES=10
API_TIMEOUT=300

SYNC_MEMORY=512Mi
SYNC_CPU=1
SYNC_TIMEOUT=300

# ============================================
# Cloud SQL Instance Configuration
# ============================================
DB_TIER=db-f1-micro
DB_VERSION=POSTGRES_15
DB_STORAGE_TYPE=SSD
DB_STORAGE_SIZE=10GB
DB_BACKUP_TIME=03:00

# ============================================
# Local Development (Optional)
# ============================================
# These are used for local development with docker-compose
# For Cloud Run, these come from Secret Manager
# LIBRE_USERNAME=your-email@example.com
# LIBRE_PASSWORD=your-password
# DB_HOST=localhost
# DB_PORT=5432
